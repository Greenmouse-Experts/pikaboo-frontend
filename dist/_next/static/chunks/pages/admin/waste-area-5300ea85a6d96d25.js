(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{5897:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/waste-area",function(){return r(4258)}])},4258:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return C}});var s=r(85893),l=r(67294),t=r(47423),n=r(41664),d=r.n(n),i=r(37294),o=r(87536),c=r(88843),m=r(22920),u=r(29562),x=r(14057),h=r(79008);let g=r(86235);var p=e=>{let{close:a,refetch:r}=e,[t,n]=(0,l.useState)(!1),[d]=(0,u.Xt)(),{control:i,handleSubmit:p,setError:j,formState:{errors:b,isValid:v}}=(0,o.cI)({mode:"onChange",defaultValues:{name:"",lga:"",coordinate:""}}),f=async e=>{n(!0),await d(e).then(e=>{e.data.success?(m.Am.success(e.data.message),n(!1),r(),a()):(m.Am.error(e.data.message),n(!1))}).catch(e=>{var a;m.Am.error(null==e?void 0:null===(a=e.error)||void 0===a?void 0:a.data.message),n(!1)})};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{children:(0,s.jsxs)("form",{onSubmit:p(f),children:[(0,s.jsx)("div",{children:(0,s.jsx)(o.Qr,{name:"name",control:i,rules:{required:{value:!0,message:"Please enter zone name"}},render:e=>{var a;let{field:r}=e;return(0,s.jsx)(c.Z,{label:"Zone Name",error:null===(a=b.name)||void 0===a?void 0:a.message,type:c.n.text,...r})}})}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"mb-2 block mt-2",children:"Local Government Area"}),(0,s.jsx)(o.Qr,{name:"lga",control:i,rules:{required:{value:!1,message:"Please enter Lga name"}},render:e=>{var a;let{field:r}=e;return(0,s.jsxs)("select",{...r,className:"w-full border border-gray-400 rounded h-[42px]",children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Select Option"}),g.lgas("Edo")&&(null===(a=g.lgas("Edo").lgas)||void 0===a?void 0:a.map((e,a)=>(0,s.jsx)("option",{value:e,children:e},a)))]})}})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(o.Qr,{name:"coordinate",control:i,rules:{required:{value:!1,message:"Please Input Area Coordinates"}},render:e=>{var a;let{field:r}=e;return(0,s.jsx)(c.Z,{label:"Area Coordinates",error:null===(a=b.coordinate)||void 0===a?void 0:a.message,type:c.n.text,...r})}})}),(0,s.jsx)("div",{className:"mt-10",children:(0,s.jsx)(x.Z,{title:t?(0,s.jsx)(h.Gh,{size:13,color:"white"}):"Create",disabled:!v})})]})})})},j=r(71119),b=r(77656),v=r(27484),f=r.n(v),N=r(79794),w=()=>{var e,a;let{Modal:r,setShowModal:t}=(0,i.Z)(),{data:n,isLoading:o,refetch:c}=(0,u.ew)(),m=(0,l.useMemo)(()=>[{Header:"S/N",accessor:(e,a)=>a+1},{Header:"Zone ID",accessor:"zone_id",Cell:e=>(0,s.jsx)(d(),{href:{pathname:"/admin/waste-area/home",query:{sort:e.row.original.id}},className:"fw-500 text-primary",children:e.value})},{Header:"Name",accessor:"name"},{Header:"Coordinates",accessor:"coordinate"},{Header:"LGA",accessor:"lga"},{Header:"Date Created",accessor:"created_at",Cell:e=>f()(e.value).format("DD-MMM-YYYY")},{Header:"Status",accessor:"status",Cell:e=>b.T$[e.value]}],[]),x=(0,l.useMemo)(()=>null==n?void 0:n.data,[n]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,s.jsx)("p",{className:"fw-600 lg:fs-700",children:"Waste Areas (Zones)"}),(0,s.jsx)("p",{className:"px-4 btn-like py-1",onClick:()=>t(!0),children:"Create Zone"})]}),(0,s.jsxs)("div",{className:"mt-8",children:[o&&(0,s.jsx)("div",{className:"flex justify-center py-12",children:(0,s.jsx)(h.B0,{size:"100"})}),n&&!(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.length)&&(0,s.jsx)(N.Z,{imageClass:"w-24 mx-auto",message:"No Created Zones Yet"}),n&&!!(null==n?void 0:null===(a=n.data)||void 0===a?void 0:a.length)&&(0,s.jsx)("div",{className:"lg:p-4",children:(0,s.jsx)(j.ZP,{columns:m,data:x})})]})]}),(0,s.jsx)(r,{title:"Create Zone",children:(0,s.jsx)(p,{close:()=>t(!1),refetch:c})})]})};let y=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"grid dash-shade p-6 rounded-lg",children:(0,s.jsx)(t.Z,{})}),(0,s.jsx)("div",{className:"grid dash-shade rounded-lg mt-8 lg:mt-12 p-6",children:(0,s.jsx)(w,{})})]})});var C=y;y.Layout="Dashboard"},79794:function(e,a,r){"use strict";var s=r(85893);r(67294);var l=r(25675),t=r.n(l);a.Z=e=>{let{message:a,imageClass:r}=e;return(0,s.jsx)("div",{className:"w-full grid place-content-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(t(),{src:"https://res.cloudinary.com/greenmouse-tech/image/upload/v1689941389/pikaboo/garbage_empty-removebg-preview_o7ps5z.png",alt:"empty",width:400,height:400,className:r}),(0,s.jsx)("p",{className:"text-center mt-4 text-gray-500",children:a||"No Data Available"})]})})}},88843:function(e,a,r){"use strict";r.d(a,{n:function(){return l}});var s,l,t=r(85893),n=r(67294),d=r(89583),i=r(77656);(s=l||(l={})).email="email",s.password="password",s.radio="radio",s.tel="tel",s.text="text",s.textarea="textarea",s.number="number",s.checkbox="checkbox",s.search="search",a.Z=e=>{let{type:a,name:r,onChange:s,label:o,error:c,required:m=!1,className:u="w-full border-0  outline-none py-2 px-2 rounded",labelClassName:x,placeholder:h,disabled:g=!1,maxLength:p,autoFocus:j,fullWidth:b,inputRef:v,onKeyPress:f,onBlur:N,autoComplete:w,autoCapitalize:y,onFocus:C,onKeyUp:k,onKeyDown:F,min:Z,max:_,customRightElement:A,altClassName:z,icon:P,readonly:S,...H}=e,[M,D]=(0,n.useState)(!1),[E,L]=(0,n.useState)(a),K=e=>{D(e),L(e?l.text:l.password)};return(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("div",{children:(0,t.jsx)(t.Fragment,{children:o&&(0,t.jsx)("label",{className:x||"",children:o})})}),(0,t.jsxs)("div",{className:(0,i.AK)(a===l.checkbox?"":c?"border-red-400 border":"border border-gray-400","flex items-center bg-input  mt-1 rounded"),children:[P&&P,(()=>{switch(a){case l.textarea:return(0,t.jsx)("textarea",{id:r,className:z||(0,i.AK)(b?"w-full p-2":"p-2 h-24",u),name:r,required:m,onChange:s,placeholder:h,disabled:g,maxLength:p,autoFocus:j,onFocus:C,autoComplete:w,autoCapitalize:y,ref:v,...H});case l.checkbox:return(0,t.jsx)("input",{type:"checkbox",className:z||(0,i.AK)(b?"":"p-2",u),name:r,required:m,onChange:s,placeholder:h,disabled:g,maxLength:p,autoFocus:j,onFocus:C,autoComplete:w,autoCapitalize:y,ref:v,...H});default:return(0,t.jsx)("input",{id:r,type:E,className:z||(0,i.AK)(b?"w-full":"",u),name:r,required:m,onChange:s,placeholder:h,disabled:g,maxLength:p,autoFocus:j,onFocus:C,autoComplete:w,autoCapitalize:y,onKeyDown:F,onKeyUp:k,ref:v,min:Z,max:_,...H})}})(),A&&A,a===l.password&&(0,t.jsx)("div",{onClick:()=>K(!M),className:"px-3",children:M?(0,t.jsx)(d.z5B,{className:"text-xl"}):(0,t.jsx)(d.tjB,{className:"text-xl"})})]}),(0,t.jsx)(t.Fragment,{children:c&&(0,t.jsx)("span",{className:"fs-500 fw-500 text-red-500",children:c.toString()})})]})}},71119:function(e,a,r){"use strict";r.d(a,{fD:function(){return i}});var s=r(85893),l=r(67294),t=r(89583);r(35666);var n=r(79521);let d=e=>{let{preGlobalFilteredRows:a,globalFilter:r,setGlobalFilter:t}=e,d=a.length,[i,o]=l.useState(r),c=(0,n.useAsyncDebounce)(e=>{t(e||void 0)},200);return(0,s.jsx)("div",{className:"border p-[6px] w-64 md:w-full lg:w-64 rounded border-gray-400",children:(0,s.jsx)("input",{value:i||"",onChange:e=>{o(e.target.value),c(e.target.value)},placeholder:"".concat(d," records..."),className:"outline-none"})})};function i(e){let{column:{filterValue:a,setFilter:r,preFilteredRows:t,id:n},name:d}=e,i=l.useMemo(()=>{let e=new Set;return t.forEach(a=>{e.add(a.values[n])}),[...e.values()]},[n,t]);return(0,s.jsxs)("select",{name:n,id:n,value:a,onChange:e=>{r(e.target.value||void 0)},className:"text-gray-700 outline-none font-light border border-gray-400 rounded-md p-2",children:[(0,s.jsxs)("option",{value:"",children:["Filter by ",d]}),i.map((e,a)=>(0,s.jsx)("option",{value:e,children:e},a))]})}a.ZP=e=>{let{columns:a,data:r}=e,{getTableProps:i,getTableBodyProps:o,headerGroups:c,prepareRow:m,state:u,preGlobalFilteredRows:x,setGlobalFilter:h,page:g,canPreviousPage:p,canNextPage:j,pageOptions:b,pageCount:v,gotoPage:f,nextPage:N,previousPage:w,setPageSize:y,exportData:C}=(0,n.useTable)({columns:a,data:r},n.useFilters,n.useGlobalFilter,n.usePagination);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"lg:flex items-center mb-5 relative z-10 w-6/12",children:[(0,s.jsx)(d,{preGlobalFilteredRows:x,globalFilter:u.globalFilter,setGlobalFilter:h}),(0,s.jsx)("div",{className:"flex justify-between relative -left-6 md:left-0 mt-3 lg:mt-0 lg:justify-end",children:c.map(e=>e.headers.map(e=>e.Filter?(0,s.jsx)("div",{className:"fs-500 px-3 py-2 ",children:e.render("Filter")},e.id):null))})]}),(0,s.jsx)("div",{className:"mt-2 flex flex-col",children:(0,s.jsx)("div",{className:"-my-2 overflow-x-auto ",children:(0,s.jsx)("div",{className:"py-2 align-middle inline-block min-w-full ",children:(0,s.jsx)("div",{className:"overflow-hidden  sm:rounded-lg",children:(0,s.jsxs)("table",{...i(),className:"items-center w-full bg-transparent border-collapse",children:[(0,s.jsx)("thead",{className:"thead-light bg-light",children:c.map((e,a)=>(0,l.createElement)("tr",{...e.getHeaderGroupProps(),key:a},e.headers.map((e,a)=>(0,s.jsx)("th",{scope:"col",className:"px-2 pl-3 text-black align-middle border-b border-solid border-gray-200 py-3 fs-500 whitespace-nowrap text-left",...e.getHeaderProps(),children:e.render("Header")}))))}),(0,s.jsx)("tbody",{className:"bg-white",...o(),children:g.map((e,a)=>{m(e);let{key:r,...l}=e.getRowProps();return(0,s.jsx)("tr",{...l,children:e.cells.map((e,a)=>{let{key:r,...l}=e.getCellProps();return(0,s.jsx)("td",{className:"border-b border-gray-200 align-middle fs-500 whitespace-nowrap px-2 py-4 text-left",...l,children:e.render("Cell")},r)})},r)})})]})})})})}),(0,s.jsxs)("div",{className:"pagination mt-8 lg:flex justify-between items-center bg-light fs-500 px-3 py-2 lg:py-2 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center lg:w-6/12",children:[(0,s.jsx)("div",{className:"pr-5",children:(0,s.jsxs)("span",{children:["Page"," ",(0,s.jsxs)("strong",{children:[u.pageIndex+1," of ",b.length]})," "]})}),(0,s.jsx)("div",{className:"w-20",children:(0,s.jsx)("select",{value:u.pageSize,onChange:e=>{y(Number(e.target.value))},className:"bg-light border border-gray-400 rounded-md p-1",children:[5,10,20].map(e=>(0,s.jsxs)("option",{value:e,children:["Show ",e]},e))})})]}),(0,s.jsxs)("div",{className:"flex lg:mt-0 mt-4 justify-center gap-2",children:[(0,s.jsx)("button",{className:"border border-gray-400 w-7 h-7 grid place-content-center circle bg-primary text-white text-xl",onClick:()=>f(0),disabled:!p,children:(0,s.jsx)(t.dL9,{})})," ",(0,s.jsx)("button",{className:"border border-gray-400 w-7 h-7 grid place-content-center circle bg-primary text-white text-xl",onClick:()=>w(),disabled:!p,children:(0,s.jsx)(t._HU,{})})," ",(0,s.jsx)("button",{className:"border border-gray-400 w-7 h-7 grid place-content-center circle bg-primary text-white text-xl",onClick:()=>N(),disabled:!j,children:(0,s.jsx)(t.H_v,{})})," ",(0,s.jsx)("button",{className:"border border-gray-400 w-7 h-7 grid place-content-center circle bg-primary text-white text-xl",onClick:()=>f(v-1),disabled:!j,children:(0,s.jsx)(t.hPV,{})})]})]})]})}},47423:function(e,a,r){"use strict";var s=r(85893);r(67294);var l=r(76725);a.Z=()=>{let e={center:{lat:6.335,lng:5.6037},zoom:14};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"fw-600 lg:fs-700 border-b pb-2",children:"Waste Areas"}),(0,s.jsx)("div",{className:"lg:h-[400px] mt-12",children:(0,s.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,s.jsx)(l.ZP,{bootstrapURLKeys:{key:"AIzaSyAObMzoszg93PuKpMW5JpUjbN4H9JC0isY"},defaultCenter:e.center,defaultZoom:e.zoom})})})]})})}}},function(e){e.O(0,[536,865,725,685,774,888,179],function(){return e(e.s=5897)}),_N_E=e.O()}]);