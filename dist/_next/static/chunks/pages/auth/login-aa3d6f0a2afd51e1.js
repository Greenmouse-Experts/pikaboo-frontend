(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{40163:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return s(74640)}])},74640:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return _}});var t=s(85893),r=s(67294),l=s(11163),n=s(87536),i=s(88843),d=s(14057),o=s(41664),c=s.n(o),u=s(5434),m=s(79008),x=s(12633),h=s(13619),p=s(70545),g=s(25411),j=s(22920),f=()=>{let e=(0,l.useRouter)(),[a,s]=(0,r.useState)(!1),[o]=(0,x.nF)(),f=(0,h.TL)(),{control:v,handleSubmit:w,setError:b,formState:{errors:N,isValid:y}}=(0,n.cI)({mode:"onChange",defaultValues:{email:"",password:""}}),_=async a=>{s(!0),await o(a).then(a=>{a.data.success?(f((0,p.JR)({token:a.data.token,firstname:a.data.data.first_name,lastname:a.data.data.last_name,id:a.data.data.id,email:a.data.data.email,phone:a.data.data.phone,user_type:a.data.data.account_type,admin_type:a.data.data.role,avatar:a.data.data.avatar})),(0,g.Ev)("token",a.data.token),j.Am.success(a.data.message),"Fleet Manager"===a.data.data.account_type?e.push("/fleet"):"Waste Manager"===a.data.data.account_type?e.push("/waste"):"Field Operator"===a.data.data.account_type&&e.push("/field")):(j.Am.error(a.data.message),s(!1))}).catch(e=>{var a;j.Am.error(null==e?void 0:null===(a=e.error)||void 0===a?void 0:a.data.message),s(!1)})};return(0,t.jsx)("div",{children:(0,t.jsxs)("form",{className:"fs-600 mt-10",onSubmit:w(_),children:[(0,t.jsx)("div",{children:(0,t.jsx)(n.Qr,{name:"email",control:v,rules:{required:{value:!0,message:"Please enter your email"}},render:e=>{var a;let{field:s}=e;return(0,t.jsx)(i.Z,{label:"Email",icon:(0,t.jsx)(u.F8X,{className:"text-primary text-2xl mx-2"}),placeholder:"pikaboo@gmail.com",error:null===(a=N.email)||void 0===a?void 0:a.message,type:i.n.email,...s})}})}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(n.Qr,{name:"password",control:v,rules:{required:{value:!0,message:"Password is required"},minLength:{value:5,message:"Password is too short"}},render:e=>{var a;let{field:s}=e;return(0,t.jsx)(i.Z,{label:"Password",icon:(0,t.jsx)(u.wU4,{className:"text-primary text-2xl mx-2"}),error:null===(a=N.password)||void 0===a?void 0:a.message,type:i.n.password,...s})}})}),(0,t.jsx)("div",{className:"flex items-end justify-end mt-1",children:(0,t.jsx)(c(),{href:"/auth/forget-password",className:" text-primary",children:"Forget Password?"})}),(0,t.jsx)("div",{className:"mt-10",children:(0,t.jsx)(d.Z,{title:a?(0,t.jsx)(m.Gh,{size:13,color:"white"}):"Login",disabled:!y})})]})})},v=s(25675),w=s.n(v),b=s(77656),N=s(60816);let y=()=>{let e=(0,l.useRouter)(),a=e.query.sort;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(N.Z,{})}),(0,t.jsx)("div",{className:"absolute left-0 top-0 z-10 h-screen w-full",children:(0,t.jsx)("div",{className:"box ",children:(0,t.jsxs)("div",{className:"grid h-screen lg:grid-cols-2 items-center",children:[(0,t.jsx)("div",{className:"hidden lg:block",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(w(),{src:"https://res.cloudinary.com/greenmouse-tech/image/upload/v1687852832/pikaboo/Group_48062_rxv6ae.png",alt:"",width:200,height:80,className:"w-28 lg:w-56"}),(0,t.jsx)("p",{className:"fw-600 mt-6 text-white lg:text-lg",children:"Sign in to your account"})]})}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)(c(),{href:"/",children:(0,t.jsx)(w(),{src:"https://res.cloudinary.com/greenmouse-tech/image/upload/v1687852832/pikaboo/Group_48062_rxv6ae.png",alt:"",width:200,height:80,className:"w-56 mx-auto mb-12 lg:hidden"})}),(0,t.jsxs)("div",{className:"lg:w-10/12 mx-auto p-6 lg:p-12 bg-white",children:[(0,t.jsxs)("p",{className:"fs-700 lg:text-2xl mb-4 fw-600",children:["Login as a ",b.a5[a]]}),(0,t.jsx)(c(),{href:"/",className:"text-primary underline fw-500",children:"Switch Account"}),(0,t.jsx)(f,{})]})]})]})})})]})};var _=y;y.Layout="Login"},88843:function(e,a,s){"use strict";s.d(a,{n:function(){return r}});var t,r,l=s(85893),n=s(67294),i=s(89583),d=s(77656);(t=r||(r={})).email="email",t.password="password",t.radio="radio",t.tel="tel",t.text="text",t.textarea="textarea",t.number="number",t.checkbox="checkbox",t.search="search",a.Z=e=>{let{type:a,name:s,onChange:t,label:o,error:c,required:u=!1,className:m="w-full border-0  outline-none py-2 px-2 rounded",labelClassName:x,placeholder:h,disabled:p=!1,maxLength:g,autoFocus:j,fullWidth:f,inputRef:v,onKeyPress:w,onBlur:b,autoComplete:N,autoCapitalize:y,onFocus:_,onKeyUp:k,onKeyDown:F,min:C,max:L,customRightElement:q,altClassName:A,icon:P,readonly:S,...E}=e,[z,K]=(0,n.useState)(!1),[Z,O]=(0,n.useState)(a),B=e=>{K(e),O(e?r.text:r.password)};return(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("div",{children:(0,l.jsx)(l.Fragment,{children:o&&(0,l.jsx)("label",{className:x||"",children:o})})}),(0,l.jsxs)("div",{className:(0,d.AK)(a===r.checkbox?"":c?"border-red-400 border":"border border-gray-400","flex items-center bg-input  mt-1 rounded"),children:[P&&P,(()=>{switch(a){case r.textarea:return(0,l.jsx)("textarea",{id:s,className:A||(0,d.AK)(f?"w-full p-2":"p-2 h-24",m),name:s,required:u,onChange:t,placeholder:h,disabled:p,maxLength:g,autoFocus:j,onFocus:_,autoComplete:N,autoCapitalize:y,ref:v,...E});case r.checkbox:return(0,l.jsx)("input",{type:"checkbox",className:A||(0,d.AK)(f?"":"p-2",m),name:s,required:u,onChange:t,placeholder:h,disabled:p,maxLength:g,autoFocus:j,onFocus:_,autoComplete:N,autoCapitalize:y,ref:v,...E});default:return(0,l.jsx)("input",{id:s,type:Z,className:A||(0,d.AK)(f?"w-full":"",m),name:s,required:u,onChange:t,placeholder:h,disabled:p,maxLength:g,autoFocus:j,onFocus:_,autoComplete:N,autoCapitalize:y,onKeyDown:F,onKeyUp:k,ref:v,min:C,max:L,...E})}})(),q&&q,a===r.password&&(0,l.jsx)("div",{onClick:()=>B(!z),className:"px-3",children:z?(0,l.jsx)(i.z5B,{className:"text-xl"}):(0,l.jsx)(i.tjB,{className:"text-xl"})})]}),(0,l.jsx)(l.Fragment,{children:c&&(0,l.jsx)("span",{className:"fs-500 fw-500 text-red-500",children:c.toString()})})]})}},60816:function(e,a,s){"use strict";var t=s(85893);s(67294);var r=s(86523),l=s(22546);s(99008),s(30482),a.Z=()=>(0,t.jsxs)("div",{className:"h-screen w-full",children:[" ",(0,t.jsxs)(l.tq,{modules:[r.pt,r.W_,r.s5],spaceBetween:0,slidesPerView:1,autoplay:{delay:8e3,disableOnInteraction:!1},className:"h-full w-full",children:[(0,t.jsx)(l.o5,{children:(0,t.jsx)("div",{className:"bg-login bg-cover w-full h-full"})}),(0,t.jsx)(l.o5,{children:(0,t.jsx)("div",{className:"bg-login2 bg-cover w-full h-full"})}),(0,t.jsx)(l.o5,{children:(0,t.jsx)("div",{className:"bg-login3 bg-cover w-full h-full"})})]})]})}},function(e){e.O(0,[536,303,774,888,179],function(){return e(e.s=40163)}),_N_E=e.O()}]);