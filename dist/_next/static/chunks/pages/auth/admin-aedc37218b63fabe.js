(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{23486:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/admin",function(){return t(89084)}])},89084:function(e,a,t){"use strict";t.r(a);var s=t(85893),r=t(67294),n=t(11163),l=t(88843),o=t(25675),d=t.n(o),i=t(87536),c=t(8193),m=t(5434),u=t(14057),x=t(12633),h=t(13619),p=t(70545),g=t(25411),j=t(22920),w=t(79008);let v=()=>{let e=(0,n.useRouter)(),[a,t]=(0,r.useState)(!1),[o]=(0,x.O5)(),v=(0,h.TL)(),{control:f,handleSubmit:b,setError:N,formState:{errors:y,isValid:_}}=(0,i.cI)({mode:"onChange",defaultValues:{email:"",password:""}}),k=async a=>{t(!0),await o(a).then(a=>{a.data.success?(v((0,p.JR)({token:a.data.token,firstname:a.data.data.first_name,lastname:a.data.data.last_name,id:a.data.data.id,email:a.data.data.email,phone:a.data.data.phone,user_type:a.data.data.account_type,admin_type:a.data.data.role,avatar:a.data.data.avatar})),(0,g.Ev)("token",a.data.token),j.Am.success(a.data.message),e.push((0,g.hh)(e.asPath))):(j.Am.error(a.data.message),t(!1))}).catch(e=>{var a;j.Am.error(null==e?void 0:null===(a=e.error)||void 0===a?void 0:a.data.message),t(!1)})};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"bg-primary min-h-screen font-primary",children:(0,s.jsx)("div",{className:"flex lg:pt-16 text-sm h-screen items-center justify-center",children:(0,s.jsxs)("div",{className:"lg:w-4/12 rounded shadow bg-white w-11/12 p-6 pb-8",children:[(0,s.jsx)(d(),{src:"https://res.cloudinary.com/greenmouse-tech/image/upload/v1687429795/pikaboo/Group_48061_m4vob9.png",alt:"logo",width:300,height:100,className:"w-36 lg:w-64 pr-6 mx-auto"}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("p",{className:"fw-500 text-center lg:text-xl mb-12",children:["Admin Login"," "]}),(0,s.jsxs)("form",{onSubmit:b(k),className:"fs-700",children:[(0,s.jsx)("div",{children:(0,s.jsx)(i.Qr,{name:"email",control:f,rules:{required:{value:!0,message:"Please enter your email"}},render:e=>{var a;let{field:t}=e;return(0,s.jsx)(l.Z,{placeholder:"Email",icon:(0,s.jsx)(c.Dme,{className:"text-2xl text-primary mx-2"}),error:null===(a=y.email)||void 0===a?void 0:a.message,type:l.n.email,...t})}})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(i.Qr,{name:"password",control:f,rules:{required:{value:!0,message:"Password is required"},minLength:{value:5,message:"Password is too short"}},render:e=>{var a;let{field:t}=e;return(0,s.jsx)(l.Z,{placeholder:"Password",icon:(0,s.jsx)(m.wU4,{className:"text-xl lg:text-2xl text-primary mx-2"}),error:null===(a=y.password)||void 0===a?void 0:a.message,type:l.n.password,...t})}})}),(0,s.jsx)("div",{className:"mt-12",children:(0,s.jsx)(u.Z,{title:a?(0,s.jsx)(w.Gh,{size:13,color:"white"}):"Login",disabled:!_})})]})]})]})})})})};a.default=v,v.Layout="Login"},88843:function(e,a,t){"use strict";t.d(a,{n:function(){return r}});var s,r,n=t(85893),l=t(67294),o=t(89583),d=t(77656);(s=r||(r={})).email="email",s.password="password",s.radio="radio",s.tel="tel",s.text="text",s.textarea="textarea",s.number="number",s.checkbox="checkbox",s.search="search",a.Z=e=>{let{type:a,name:t,onChange:s,label:i,error:c,required:m=!1,className:u="w-full border-0  outline-none py-2 px-2 rounded",labelClassName:x,placeholder:h,disabled:p=!1,maxLength:g,autoFocus:j,fullWidth:w,inputRef:v,onKeyPress:f,onBlur:b,autoComplete:N,autoCapitalize:y,onFocus:_,onKeyUp:k,onKeyDown:C,min:F,max:L,customRightElement:A,altClassName:E,icon:P,readonly:q,...K}=e,[S,z]=(0,l.useState)(!1),[Z,O]=(0,l.useState)(a),T=e=>{z(e),O(e?r.text:r.password)};return(0,n.jsxs)("div",{className:"mt-3",children:[(0,n.jsx)("div",{children:(0,n.jsx)(n.Fragment,{children:i&&(0,n.jsx)("label",{className:x||"",children:i})})}),(0,n.jsxs)("div",{className:(0,d.AK)(a===r.checkbox?"":c?"border-red-400 border":"border border-gray-400","flex items-center bg-input  mt-1 rounded"),children:[P&&P,(()=>{switch(a){case r.textarea:return(0,n.jsx)("textarea",{id:t,className:E||(0,d.AK)(w?"w-full p-2":"p-2 h-24",u),name:t,required:m,onChange:s,placeholder:h,disabled:p,maxLength:g,autoFocus:j,onFocus:_,autoComplete:N,autoCapitalize:y,ref:v,...K});case r.checkbox:return(0,n.jsx)("input",{type:"checkbox",className:E||(0,d.AK)(w?"":"p-2",u),name:t,required:m,onChange:s,placeholder:h,disabled:p,maxLength:g,autoFocus:j,onFocus:_,autoComplete:N,autoCapitalize:y,ref:v,...K});default:return(0,n.jsx)("input",{id:t,type:Z,className:E||(0,d.AK)(w?"w-full":"",u),name:t,required:m,onChange:s,placeholder:h,disabled:p,maxLength:g,autoFocus:j,onFocus:_,autoComplete:N,autoCapitalize:y,onKeyDown:C,onKeyUp:k,ref:v,min:F,max:L,...K})}})(),A&&A,a===r.password&&(0,n.jsx)("div",{onClick:()=>T(!S),className:"px-3",children:S?(0,n.jsx)(o.z5B,{className:"text-xl"}):(0,n.jsx)(o.tjB,{className:"text-xl"})})]}),(0,n.jsx)(n.Fragment,{children:c&&(0,n.jsx)("span",{className:"fs-500 fw-500 text-red-500",children:c.toString()})})]})}}},function(e){e.O(0,[536,774,888,179],function(){return e(e.s=23486)}),_N_E=e.O()}]);